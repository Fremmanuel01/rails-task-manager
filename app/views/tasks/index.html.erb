<h1>My Tasks</h1>

<ul>
  <% @tasks.each do |task| %>
    <li>
      <%= form_with model: task, method: :patch do |f| %>
        <%= f.check_box :completed, onchange: "this.form.submit()", checked: task.completed %>
        <%= f.label :completed, task.title %>
      <% end %>
      <%= link_to "Details", task_path(task) %>
      <%= link_to "Edit", edit_task_path(task) %>
      <%= link_to "Delete", task_path(task), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} %>
    </li>
  <% end %>
</ul>

<%= link_to "Add a new task", new_task_path %>
